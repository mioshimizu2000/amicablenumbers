<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Amicable numbers</title>
</head>

<body>
	
	<p>Enter two numbers (do not include commas):</p>

	<form id="frm1" action="/action_page.php">
 		Number 1: <input type="text" id="num1"><br>
  		Number 2: <input type="text" id="num2"><br><br>
  	<input type="button" onclick="eventHandler()" value="Submit">
	</form>
	
	<script type="text/javascript">
		function isFactor (num, testNum) {
			if (num%testNum == 0) {
				return true;
			} else {
				return false;
			}
		}
		/*isFactor test
		document.write(isFactor(5,2)); //false
		document.write(isFactor(4,2)); //true
		*/
		

		function showFactor (array) {
			var i;
			for (i = 0; i < array.length; i++) {
				document.write(array[i] + ' ');
			}
		}
		/*showFactor test
		var array = [1, 2, 3, 4];
		console.log(showFactor(array));
		*/
		
		function addFactor (array) {
			var sum = 0
			var i;
			for (i=0; i < array.length; i++) {
				sum += array[i];
			}
			return sum;
		}
		/*addFactor test
		var array = [1,2,3,4];
		document.write(addFactor(array));
		*/
		
		function getFactor (num) {
			var array = [];
			var i;
			var j = 0;
			for (i = 1; i < num; i++) {
				if (num % i == 0) {
					array[j] = i;
					j++;
				}
			}
			
			return array;
		}
		
		/*getFactor test
		var array = getFactor(10);
		console.log(showFactor(array));
		*/
		
		function eventHandler() {
			var num1 = document.getElementById("num1").value;
			var num2 = document.getElementById("num2").value;
			
			var array1 = getFactor(Number(num1));
			var array2 = getFactor(Number(num2));
			
			var sum1 = addFactor(array1);
			var sum2 = addFactor(array2);
			
		
			if (sum1 == Number(num2) && sum2 == Number(num1)) {
				document.write("The two numbers are amicable numbers <br>");
				document.write('Number 1: ' + num1 + '<br>');
				document.write('Factors: ');
				console.log(showFactor(array1));
				document.write ('<br>Sum of factors: ' + addFactor(array1) + '<br><br>');
				
				document.write('Number 2: ' + num2 + '<br>');
				document.write('Factors: ');
				console.log(showFactor(array2));
				document.write ('<br>Sum of factors: ' + addFactor(array2));
				
			} else {
				document.write("The two numbers are not amicable numbers <br>");
				document.write('Number 1: ' + num1 + '<br>');
				document.write('Factors: ');
				console.log(showFactor(array1));
				document.write ('<br>Sum of factors: ' + addFactor(array1) + '<br><br>');
				
				document.write('Number 2: ' + num2 + '<br>');
				document.write('Factors: ');
				console.log(showFactor(array2));
				document.write ('<br>Sum of factors: ' + addFactor(array2));
			}
			
		}		
		
	</script>
</body>

</html>
